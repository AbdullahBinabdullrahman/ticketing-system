module.exports=[8246,a=>{"use strict";let b=(0,a.i(13792).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],8246)},29186,a=>{"use strict";let b=(0,a.i(13792).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],29186)},45767,a=>{"use strict";let b=(0,a.i(13792).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],45767)},53718,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(88925),f=b([d,e]);[d,e]=f.then?(await f)():f;let h=a=>e.apiClient.get(a).then(a=>a.data.data);function g(){let{data:a,error:b,mutate:c,isLoading:e}=(0,d.default)("/admin/dashboard/stats",h,{refreshInterval:6e4,revalidateOnFocus:!0,revalidateOnReconnect:!0,dedupingInterval:3e4});return{stats:a,isLoading:e,isError:b,mutate:c}}a.s(["useDashboardStats",()=>g]),c()}catch(a){c(a)}},!1),31976,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(14229),h=a.i(86293),i=a.i(79336),j=a.i(15022),k=a.i(95956),l=a.i(93265),m=a.i(15559),n=a.i(15742),o=a.i(24917),p=a.i(60836),q=a.i(8246),r=a.i(68322),s=a.i(94503),t=a.i(86893),u=a.i(29186),v=a.i(71081),w=a.i(45767),x=a.i(53718),y=a.i(62806),z=a.i(33292),A=a.i(35519),B=b([f,h,i,x,y,z,A]);function C(){let{t:a}=(0,f.useTranslation)("common"),b=(0,g.useRouter)(),{user:c,isAuthenticated:B,loading:C}=(0,h.useAuth)(),{stats:D,isLoading:E,isError:F}=(0,x.useDashboardStats)();if(e.default.useEffect(()=>{!C&&B&&c?.userType==="partner"&&b.replace("/partner/dashboard")},[c,B,C,b]),E||!D)return(0,d.jsx)(i.default,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)(A.Skeleton,{className:"h-8 w-1/3 mb-2"}),(0,d.jsx)(A.Skeleton,{className:"h-4 w-1/2"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(A.StatsCardSkeleton,{},b))}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(A.StatsCardSkeleton,{},b))}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsx)(A.Skeleton,{className:"h-6 w-48 mb-4"}),(0,d.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,d.jsx)(A.Skeleton,{className:"h-10 w-10 rounded-lg"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)(A.Skeleton,{className:"h-4 w-3/4"}),(0,d.jsx)(A.Skeleton,{className:"h-3 w-1/2"})]}),(0,d.jsx)(A.Skeleton,{className:"h-6 w-20 rounded-full"})]},b))})]})]})});if(F)return(0,d.jsx)(i.default,{children:(0,d.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,d.jsx)(o.AlertCircle,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:a("error.loadingFailed")}),(0,d.jsx)("p",{className:"text-red-700 mb-4",children:a("error.tryAgain")}),(0,d.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:a("common.retry")})]})});let G=[{title:a("requests.title"),value:D.totalRequests,icon:j.FileText,color:"bg-blue-500",change:`${D.requestsGrowth>=0?"+":""}${D.requestsGrowth}%`,changeType:D.requestsGrowth>=0?"positive":"negative",subtitle:a("dashboard.fromLastMonth")},{title:a("partners.title"),value:D.activePartners,icon:k.Users,color:"bg-green-500",change:`${D.totalPartners} ${a("common.total")}`,changeType:"neutral",subtitle:a("partners.active")},{title:a("branches.title"),value:D.activeBranches,icon:l.Building2,color:"bg-purple-500",change:"",changeType:"neutral",subtitle:a("branches.active")},{title:a("dashboard.completionRate"),value:`${D.completionRate}%`,icon:m.CheckCircle,color:"bg-emerald-500",change:`${D.averageRating.toFixed(1)} â­ ${a("common.rating")}`,changeType:"positive",subtitle:a("dashboard.customerSatisfaction")}],H=[{title:a("unassignedRequests"),value:D.unassignedRequests,icon:r.ClipboardList,color:"text-orange-600",bgColor:"bg-orange-100",hoverColor:"hover:bg-orange-50",onClick:()=>b.push("/admin/requests/queue"),urgent:D.unassignedRequests>0},{title:a("requests.pending"),value:D.pendingRequests,icon:n.Clock,color:"text-yellow-600",bgColor:"bg-yellow-100",hoverColor:"hover:bg-yellow-50",onClick:()=>b.push("/admin/requests?status=assigned")},{title:a("dashboard.completedToday"),value:D.todayCompleted,icon:m.CheckCircle,color:"text-green-600",bgColor:"bg-green-100",hoverColor:"hover:bg-green-50",onClick:()=>b.push("/admin/requests?status=completed")},{title:a("dashboard.slaBreaches"),value:D.slaBreaches,icon:o.AlertCircle,color:"text-red-600",bgColor:"bg-red-100",hoverColor:"hover:bg-red-50",urgent:D.slaBreaches>0}];return(0,d.jsx)(i.default,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(z.BlurFade,{delay:0,children:(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:(0,d.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:[a("dashboard.welcome"),", ",c?.name||"Admin","! ðŸ‘‹"]}),(0,d.jsx)("p",{className:"text-blue-100 text-lg",children:a("dashboard.subtitle")})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-3xl font-bold",children:D.last30DaysCount}),(0,d.jsx)("div",{className:"text-blue-200 text-sm",children:a("dashboard.last30Days")})]}),(0,d.jsx)("div",{className:"h-12 w-px bg-blue-400"}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-3xl font-bold",children:D.activePartners}),(0,d.jsx)("div",{className:"text-blue-200 text-sm",children:a("partners.active")})]})]})]})})}),D.unassignedRequests>0&&(0,d.jsx)(z.BlurFade,{delay:.1,children:(0,d.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl shadow-xl p-6 text-white border-2 border-orange-400 animate-pulse",children:(0,d.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"bg-white/30 backdrop-blur-sm p-4 rounded-xl",children:(0,d.jsx)(r.ClipboardList,{className:"w-10 h-10"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-3xl font-bold mb-1",children:[D.unassignedRequests," ",a("unassignedRequests")]}),(0,d.jsxs)("p",{className:"text-orange-100 text-lg",children:["âš¡ ",a("waitingForAssignment")]})]})]}),(0,d.jsxs)(y.ShimmerButton,{onClick:()=>b.push("/admin/requests/queue"),className:"bg-white text-orange-600 hover:bg-orange-50 font-bold text-lg px-6 py-3",children:[(0,d.jsx)(s.Zap,{className:"w-5 h-5 mr-2"}),a("navigation.assignmentQueue"),(0,d.jsx)(t.ArrowRight,{className:"w-5 h-5 ml-2"})]})]})})}),D.slaBreaches>0&&(0,d.jsx)(z.BlurFade,{delay:.15,children:(0,d.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"bg-white/20 p-3 rounded-lg",children:(0,d.jsx)(o.AlertCircle,{className:"w-8 h-8"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-xl font-bold",children:["âš ï¸ ",D.slaBreaches," ",a("dashboard.slaBreaches")]}),(0,d.jsx)("p",{className:"text-red-100",children:a("dashboard.slaBreachesDesc")})]})]})})}),(0,d.jsx)(z.BlurFade,{delay:.2,children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:G.map((a,b)=>{let c=a.icon;return(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:a.title}),(0,d.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:"number"==typeof a.value?a.value.toLocaleString():a.value})]}),(0,d.jsx)("div",{className:`p-4 rounded-xl ${a.color}`,children:(0,d.jsx)(c,{className:"h-8 w-8 text-white"})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center",children:["positive"===a.changeType&&a.change&&(0,d.jsx)(p.TrendingUp,{className:"h-4 w-4 text-green-500 mr-1"}),"negative"===a.changeType&&a.change&&(0,d.jsx)(q.TrendingDown,{className:"h-4 w-4 text-red-500 mr-1"}),a.change&&(0,d.jsx)("span",{className:`text-sm font-semibold ${"positive"===a.changeType?"text-green-600":"negative"===a.changeType?"text-red-600":"text-gray-600"}`,children:a.change})]}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:a.subtitle})]})]},b)})})}),(0,d.jsx)(z.BlurFade,{delay:.3,children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:H.map((b,c)=>{let e=b.icon;return(0,d.jsxs)("div",{className:`bg-white rounded-xl shadow-sm border-2 ${b.urgent?"border-orange-200":"border-gray-200"} p-6 ${b.onClick?`cursor-pointer ${b.hoverColor} transition-all duration-300 hover:-translate-y-1`:""}`,onClick:b.onClick,children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:`p-4 rounded-xl ${b.bgColor} mr-4`,children:(0,d.jsx)(e,{className:`h-7 w-7 ${b.color}`})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:b.title}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:b.value})]})]}),b.urgent&&(0,d.jsxs)("div",{className:"mt-3 flex items-center text-xs font-medium text-orange-600",children:[(0,d.jsx)(u.Activity,{className:"w-3 h-3 mr-1"}),a("common.requiresAttention")]})]},c)})})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)(z.BlurFade,{delay:.4,children:(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(u.Activity,{className:"w-6 h-6 text-blue-600"}),a("dashboard.recentRequests")]}),(0,d.jsxs)("button",{onClick:()=>b.push("/admin/requests"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[a("common.viewAll"),(0,d.jsx)(t.ArrowRight,{className:"w-4 h-4"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===D.recentRequests.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(j.FileText,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a("common.noData")]}):D.recentRequests.map(c=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 px-3 rounded-lg transition-colors cursor-pointer",onClick:()=>b.push(`/admin/requests/${c.id}`),children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["REQ-",c.id]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[c.customerName," - ",c.customerPhone]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${"completed"===c.status||"closed"===c.status?"bg-green-100 text-green-800":"in_progress"===c.status?"bg-blue-100 text-blue-800":"assigned"===c.status||"confirmed"===c.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a(`requests.${c.status}`)}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:c.timeAgo})]})]},c.id))})]})}),(0,d.jsx)(z.BlurFade,{delay:.5,children:(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(v.Award,{className:"w-6 h-6 text-yellow-600"}),a("dashboard.topPartners")]}),(0,d.jsxs)("button",{onClick:()=>b.push("/admin/partners"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[a("common.viewAll"),(0,d.jsx)(t.ArrowRight,{className:"w-4 h-4"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===D.topPartners.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(k.Users,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a("common.noData")]}):D.topPartners.map((c,e)=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 px-3 rounded-lg transition-colors cursor-pointer",onClick:()=>b.push(`/admin/partners/${c.partnerId}`),children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 text-white font-bold text-sm",children:e+1}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:c.name}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[c.completedRequests," ",a("requests.completed")]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("span",{className:"text-sm font-bold text-gray-900",children:c.rating.toFixed(1)}),(0,d.jsx)("span",{className:"text-yellow-500 text-lg",children:"â˜…"})]}),(0,d.jsx)("p",{className:`text-xs font-medium mt-1 ${"Excellent"===c.status?"text-green-600":"Good"===c.status?"text-blue-600":"Average"===c.status?"text-yellow-600":"text-red-600"}`,children:a(`common.${c.status.toLowerCase()}`)})]})]},c.partnerId))})]})})]}),(0,d.jsx)(z.BlurFade,{delay:.6,children:(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,d.jsx)(w.BarChart3,{className:"w-6 h-6 text-purple-600"}),a("dashboard.requestsDistribution")]}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:D.requestsByStatus.map(c=>(0,d.jsxs)("div",{className:"text-center p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>b.push(`/admin/requests?status=${c.status}`),children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:c.count}),(0,d.jsx)("div",{className:"text-xs font-medium text-gray-600 mb-2",children:a(`requests.${c.status}`)}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[c.percentage,"%"]})]},c.status))})]})}),(0,d.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,d.jsx)(u.Activity,{className:"w-3 h-3 inline mr-1"}),a("dashboard.autoRefresh")]})]})})}[f,h,i,x,y,z,A]=B.then?(await B)():B,a.s(["default",()=>C]),c()}catch(a){c(a)}},!1),89968,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(31976),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/dashboard",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_4a1e8066._.js.map