{"version":3,"sources":["turbopack:///[project]/projects/ticketing-platform/node_modules/lucide-react/src/icons/circle-check.ts","turbopack:///[project]/projects/ticketing-platform/node_modules/lucide-react/src/icons/search.ts","turbopack:///[project]/projects/ticketing-platform/node_modules/lucide-react/src/icons/funnel.ts","turbopack:///[project]/projects/ticketing-platform/lib/utils/partnerHttp.ts","turbopack:///[project]/projects/ticketing-platform/node_modules/lucide-react/src/icons/lock.ts","turbopack:///[project]/projects/ticketing-platform/components/layout/PartnerLayout.tsx","turbopack:///[project]/projects/ticketing-platform/node_modules/date-fns/_lib/getRoundingMethod.js","turbopack:///[project]/projects/ticketing-platform/node_modules/date-fns/differenceInMilliseconds.js","turbopack:///[project]/projects/ticketing-platform/hooks/usePartnerRequests.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","/**\n * Partner HTTP Client\n * Axios instance configured for partner API requests with automatic token injection\n */\nimport axios from \"axios\";\n\nexport const partnerHttp = axios.create({\n  baseURL: \"/api/partner\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n/**\n * Request interceptor - Add partner auth token and language preference\n */\npartnerHttp.interceptors.request.use((config) => {\n  // Only run in browser\n  if (typeof window !== \"undefined\") {\n    // Add language preference\n    const language = localStorage.getItem(\"i18nextLng\") || \"en\";\n    config.headers[\"Accept-Language\"] = language;\n\n    // Add partner authentication token\n    const partnerToken = localStorage.getItem(\"partnerToken\");\n    if (partnerToken) {\n      config.headers.Authorization = `Bearer ${partnerToken}`;\n    }\n  }\n\n  return config;\n});\n\n/**\n * Response interceptor - Handle common errors\n */\npartnerHttp.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle 401 Unauthorized - redirect to partner login\n    if (error.response?.status === 401) {\n      if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"partnerToken\");\n        localStorage.removeItem(\"auth_tokens\");\n        window.location.href = \"/login\";\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default partnerHttp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","\"use client\";\n\nimport React, { useState, ReactNode } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAuth } from \"../../lib/contexts/AuthContext\";\nimport {\n  LayoutDashboard,\n  FileText,\n  Bell,\n  User,\n  LogOut,\n  Menu,\n  X,\n  Globe,\n  Lock,\n} from \"lucide-react\";\n\ninterface PartnerLayoutProps {\n  children: ReactNode;\n}\n\nexport default function PartnerLayout({ children }: PartnerLayoutProps) {\n  const { t, i18n } = useTranslation(\"common\");\n  const { user, logout } = useAuth();\n  const router = useRouter();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n\n  const toggleLanguage = () => {\n    const newLang = i18n.language === \"en\" ? \"ar\" : \"en\";\n    i18n.changeLanguage(newLang);\n    document.documentElement.dir = newLang === \"ar\" ? \"rtl\" : \"ltr\";\n    document.documentElement.lang = newLang;\n  };\n\n  const navigation = [\n    {\n      name: t(\"navigation.dashboard\"),\n      href: \"/partner/dashboard\",\n      icon: LayoutDashboard,\n    },\n    {\n      name: t(\"navigation.requests\"),\n      href: \"/partner/requests\",\n      icon: FileText,\n    },\n  ];\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n  const isCurrentPath = (path: string) => {\n    return router.pathname === path || router.pathname.startsWith(path + \"/\");\n  };\n\n  return (\n    <div\n      className=\"min-h-screen bg-gray-50 flex flex-1\"\n      dir={i18n.language === \"ar\" ? \"rtl\" : \"ltr\"}\n    >\n      {/* Mobile sidebar overlay */}\n      {sidebarOpen && (\n        <div className=\"fixed inset-0 z-40 lg:hidden\">\n          <div\n            className=\"fixed inset-0 bg-gray-600 bg-opacity-75\"\n            onClick={() => setSidebarOpen(false)}\n          />\n        </div>\n      )}\n\n      {/* Sidebar */}\n      <div\n        className={`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${\n          sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\n        }`}\n      >\n        <div className=\"flex items-center justify-between h-16 px-6 border-b border-gray-200\">\n          <h1 className=\"text-xl font-bold text-primary-600\">\n            {t(\"app.name\")} - Partner\n          </h1>\n          <button\n            onClick={() => setSidebarOpen(false)}\n            className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <nav className=\"mt-6 px-3\">\n          <div className=\"space-y-1\">\n            {navigation.map((item) => {\n              const Icon = item.icon;\n              return (\n                <a\n                  key={item.name}\n                  href={item.href}\n                  className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${\n                    isCurrentPath(item.href)\n                      ? \"bg-primary-100 text-primary-700 border-r-2 border-primary-500\"\n                      : \"text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\n                  }`}\n                >\n                  <Icon\n                    className={`mr-3 h-5 w-5 shrink-0 ${\n                      isCurrentPath(item.href)\n                        ? \"text-primary-500\"\n                        : \"text-gray-400 group-hover:text-gray-500\"\n                    }`}\n                  />\n                  {item.name}\n                </a>\n              );\n            })}\n          </div>\n        </nav>\n      </div>\n\n      {/* Main content */}\n      <div className=\"w-full\">\n        {/* Top bar */}\n        <div className=\"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200\">\n          <div className=\"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => setSidebarOpen(true)}\n                className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n              >\n                <Menu className=\"h-6 w-6\" />\n              </button>\n              <h2 className=\"ml-2 text-lg font-semibold text-gray-900\">\n                {navigation.find((item) => isCurrentPath(item.href))?.name ||\n                  t(\"navigation.dashboard\")}\n              </h2>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              {/* Language switcher */}\n              <button\n                onClick={toggleLanguage}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors duration-200\"\n              >\n                <Globe className=\"h-4 w-4 mr-2\" />\n                {i18n.language === \"en\" ? \"العربية\" : \"English\"}\n              </button>\n\n              {/* Notifications */}\n              <button className=\"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors duration-200\">\n                <Bell className=\"h-6 w-6\" />\n                <span className=\"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white\"></span>\n              </button>\n\n              {/* User menu */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setUserMenuOpen(!userMenuOpen)}\n                  className=\"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 rounded-md p-2\"\n                >\n                  <div className=\"flex items-center\">\n                    <div className=\"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center\">\n                      <User className=\"h-5 w-5 text-primary-600\" />\n                    </div>\n                    <div className=\"ml-3 hidden md:block\">\n                      <p className=\"text-sm font-medium text-gray-700\">\n                        {user?.name}\n                      </p>\n                      <p className=\"text-xs text-gray-500 capitalize\">\n                        {user?.userType}\n                      </p>\n                    </div>\n                  </div>\n                </button>\n\n                {userMenuOpen && (\n                  <div className=\"absolute left-0 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200\">\n                    <div\n                      onClick={() => router.push(\"/partner/profile\")}\n                      className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <User className=\"h-4 w-4 mr-3\" />\n                      {t(\"navigation.profile\")}\n                    </div>\n                    <div\n                      onClick={() => {\n                        router.push(\"/partner/change-password\");\n                        setUserMenuOpen(false);\n                      }}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <Lock className=\"h-4 w-4 mr-3\" />\n                      {t(\"auth.changePassword\")}\n                    </div>\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <LogOut className=\"h-4 w-4 mr-3\" />\n                      {t(\"auth.logout\")}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Page content */}\n        <main className=\"flex-1\">\n          <div className=\"py-6\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n              {children}\n            </div>\n          </div>\n        </main>\n      </div>\n\n      {/* Click outside to close user menu */}\n      {userMenuOpen && (\n        <div\n          className=\"fixed inset-0 z-30\"\n          onClick={() => setUserMenuOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","/**\n * Partner Requests Hooks\n * Custom hooks for partner requests using partnerHttp client\n */\n\nimport useSWR from \"swr\";\nimport { partnerHttp } from \"../lib/utils/partnerHttp\";\nimport type { RequestFiltersInput } from \"../schemas/requests\";\n\n/**\n * Response types\n */\nexport interface PartnerRequestResponse {\n  id: number;\n  requestNumber: string;\n  status: string;\n  priority: string;\n  pickupOption: string;\n  customerLat: string;\n  customerLng: string;\n  customerAddress: string;\n  notes: string | null;\n  rejectionReason: string | null;\n  rating: number | null;\n  feedback: string | null;\n  createdAt: string;\n  assignedAt: string | null;\n  confirmedAt: string | null;\n  completedAt: string | null;\n  slaDeadline?: string;\n  // Customer info\n  customerId: number;\n  customerName: string;\n  customerEmail: string;\n  customerPhone: string;\n  // Service info\n  serviceId: number | null;\n  serviceName: string | null;\n  serviceNameAr: string | null;\n  // Category info\n  categoryId: number;\n  categoryName: string;\n  categoryNameAr: string;\n  // Branch info\n  branchId: number;\n  branchName: string;\n  branchNameAr: string | null;\n  branchAddress: string;\n  branchLat: string;\n  branchLng: string;\n  branchPhone: string | null;\n  // Partner info\n  partnerName: string;\n  partnerLogoUrl: string | null;\n}\n\nexport interface PaginatedPartnerRequestsResponse {\n  requests: PartnerRequestResponse[];\n  pagination: {\n    total: number;\n    page: number;\n    limit: number;\n    totalPages: number;\n  };\n}\n\nexport interface PartnerRequestDetailResponse {\n  request: PartnerRequestResponse;\n  timeline: Array<{\n    id: number;\n    status: string;\n    notes: string | null;\n    changedByName: string | null;\n    timestamp: string;\n  }>;\n  timeRemainingMinutes: number | null;\n}\n\n/**\n * SWR fetcher using partnerHttp\n */\nconst fetcher = (url: string) =>\n  partnerHttp.get(url).then((res) => res.data.data || res.data);\n\n/**\n * Hook to fetch partner's requests with filters\n * @param filters - Optional filters for requests\n * @returns requests, pagination, loading state, error state, and mutate function\n */\nexport function usePartnerRequests(filters?: RequestFiltersInput) {\n  const queryParams = new URLSearchParams();\n  if (filters) {\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && value !== \"\") {\n        queryParams.append(key, String(value));\n      }\n    });\n  }\n\n  const endpoint = `/requests${\n    queryParams.toString() ? `?${queryParams.toString()}` : \"\"\n  }`;\n\n  const { data, error, mutate, isLoading } =\n    useSWR<PaginatedPartnerRequestsResponse>(endpoint, fetcher, {\n      refreshInterval: 60000, // Auto-refresh every 30 seconds\n      revalidateOnFocus: true,\n      revalidateOnReconnect: true,\n      dedupingInterval: 5000, // Prevent duplicate requests within 5 seconds\n    });\n\n  return {\n    requests: data?.requests || [],\n    pagination: data?.pagination,\n    isLoading,\n    isError: error,\n    mutate,\n  };\n}\n\n/**\n * Hook to fetch a single request by request number or ID\n * @param identifier - Request number (string) or ID (number)\n * @returns request details, timeline, loading state, error state, and mutate function\n */\nexport function usePartnerRequest(identifier: string | number | null) {\n  const { data, error, mutate, isLoading } =\n    useSWR<PartnerRequestDetailResponse>(\n      identifier ? `/requests/${identifier}` : null,\n      fetcher,\n      {\n        refreshInterval: 60000, // Auto-refresh every minute to update timer\n        revalidateOnFocus: true,\n        revalidateOnReconnect: true,\n      }\n    );\n\n  return {\n    request: data?.request,\n    timeline: data?.timeline || [],\n    timeRemainingMinutes: data?.timeRemainingMinutes,\n    isLoading,\n    isError: error,\n    mutate,\n  };\n}\n\n/**\n * Hook to accept an assigned request\n * @returns Function to accept a request by ID\n */\nexport function useAcceptRequest() {\n  return async (requestId: string | number) => {\n    const response = await partnerHttp.post(`/requests/${requestId}/accept`);\n    return response.data;\n  };\n}\n\n/**\n * Hook to reject an assigned request\n * @returns Function to reject a request by ID with a reason\n */\nexport function useRejectRequest() {\n  return async (requestId: string | number, reason: string) => {\n    const response = await partnerHttp.post(`/requests/${requestId}/reject`, {\n      reason,\n    });\n    return response.data;\n  };\n}\n\n/**\n * Hook to update request status (in_progress, completed)\n * @returns Function to update request status\n */\nexport function useUpdateRequestStatus() {\n  return async (\n    requestId: string | number,\n    status: \"in_progress\" | \"completed\",\n    notes?: string\n  ) => {\n    const response = await partnerHttp.patch(`/requests/${requestId}/status`, {\n      status,\n      notes,\n    });\n    return response.data;\n  };\n}\n\n/**\n * Hook to get requests count by status for quick stats\n * @returns Count of requests by status\n */\nexport function usePartnerRequestsCounts() {\n  const { requests, isLoading } = usePartnerRequests();\n\n  const counts = {\n    assigned: 0,\n    confirmed: 0,\n    inProgress: 0,\n    completed: 0,\n    rejected: 0,\n    total: 0,\n  };\n\n  if (!isLoading && requests) {\n    counts.total = requests.length;\n    requests.forEach((request) => {\n      switch (request.status) {\n        case \"assigned\":\n          counts.assigned++;\n          break;\n        case \"confirmed\":\n          counts.confirmed++;\n          break;\n        case \"in_progress\":\n          counts.inProgress++;\n          break;\n        case \"completed\":\n          counts.completed++;\n          break;\n        case \"rejected\":\n          counts.rejected++;\n          break;\n      }\n    });\n  }\n\n  return {\n    counts,\n    isLoading,\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4,6,7]}