module.exports=[35256,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(27669),f=a.i(68382),g=b([d,f]);function h(a={}){let{partnerId:b,customerLat:c,customerLng:g}=a,i=async a=>(await f.default.get(a)).data.data.branches,j=b?`/admin/branches?partnerId=${b}`:"/admin/branches",{data:k,error:l,isLoading:m,mutate:n}=(0,d.default)(j,i,{revalidateOnFocus:!1,revalidateOnReconnect:!0}),o=(0,e.useMemo)(()=>k?void 0!==c&&void 0!==g?k.map(a=>{var b,d;let e,f,h,i;return{...a,distance:(b=a.lat,d=a.lng,e=(b-c)*Math.PI/180,f=(d-g)*Math.PI/180,h=Math.sin(e/2)*Math.sin(e/2)+Math.cos(c*Math.PI/180)*Math.cos(b*Math.PI/180)*Math.sin(f/2)*Math.sin(f/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),Math.round(6371*i*10)/10)}}).sort((a,b)=>(a.distance||0)-(b.distance||0)):k:[],[k,c,g]),p=o[0]||null;return{branches:o,nearestBranch:p,isLoading:m,error:l,mutate:n}}[d,f]=g.then?(await g)():g,a.s(["useBranches",()=>h]),c()}catch(a){c(a)}},!1),44617,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(14229),h=a.i(79336),i=a.i(33292),j=a.i(93265),k=a.i(3750),l=a.i(81958),m=a.i(88410),n=a.i(31152),o=a.i(27584),p=a.i(24917),q=a.i(61307),r=a.i(16875),s=a.i(35256),t=a.i(96522),u=a.i(35519),v=a.i(75627),w=b([f,h,i,s,t,u,v]);function x(){let{t:a,i18n:b}=(0,f.useTranslation)("common"),c=(0,g.useRouter)(),w="ar"===b.language,[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)("all"),{branches:B,isLoading:C,error:D}=(0,s.useBranches)(),{partners:E,isLoading:F}=(0,t.usePartners)(),G=e.default.useMemo(()=>{if(!B)return[];let a=B;if("all"!==z){let b=parseInt(z,10);a=a.filter(a=>a.partnerId===b)}if(x.trim()){let b=x.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||a.address.toLowerCase().includes(b)||a.contactName?.toLowerCase().includes(b)||a.contactPhone?.includes(b))}return a},[B,z,x]);return C||F?(0,d.jsx)(h.default,{children:(0,d.jsxs)("div",{dir:w?"rtl":"ltr",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)(u.Skeleton,{className:"h-10 w-64 mb-2"}),(0,d.jsx)(u.Skeleton,{className:"h-4 w-96"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>(0,d.jsx)(u.Skeleton,{className:"h-64 w-full"},a))})]})}):D?(0,d.jsx)(h.default,{children:(0,d.jsx)("div",{dir:w?"rtl":"ltr",children:(0,d.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[(0,d.jsx)(p.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:a("branches.loadError")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:D.message||"Failed to load branches"}),(0,d.jsx)("button",{onClick:()=>c.reload(),className:"px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-md transition-colors",children:a("common.retry")})]})})}):(0,d.jsx)(h.default,{children:(0,d.jsxs)("div",{dir:w?"rtl":"ltr",children:[(0,d.jsx)(i.BlurFade,{delay:.1,children:(0,d.jsx)("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(j.Building2,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a("branches.title")})]}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("branches.description")})]})})}),(0,d.jsx)(i.BlurFade,{delay:.15,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,d.jsx)("div",{className:" from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-1",children:a("branches.totalBranches")}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:B?.length||0})]}),(0,d.jsx)(j.Building2,{className:"h-10 w-10 text-blue-600 dark:text-blue-400"})]})}),(0,d.jsx)("div",{className:" from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4 border border-green-200 dark:border-green-700",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mb-1",children:a("branches.activePartners")}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:E?.length||0})]}),(0,d.jsx)(m.User,{className:"h-10 w-10 text-green-600 dark:text-green-400"})]})}),(0,d.jsx)("div",{className:" from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-1",children:a("branches.filtered")}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:G.length})]}),(0,d.jsx)(r.Filter,{className:"h-10 w-10 text-purple-600 dark:text-purple-400"})]})})]})}),(0,d.jsx)(i.BlurFade,{delay:.2,children:(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(q.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:a("branches.searchPlaceholder"),value:x,onChange:a=>y(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 dark:text-white"})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 dark:text-white",children:[(0,d.jsx)("option",{value:"all",children:a("branches.allPartners")}),E?.map(a=>(0,d.jsx)("option",{value:a.id,children:a.name},a.id))]})})]})})}),0===G.length?(0,d.jsx)(i.BlurFade,{delay:.25,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,d.jsx)(j.Building2,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:x||"all"!==z?a("branches.noMatchingBranches"):a("branches.noBranches")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:x||"all"!==z?a("branches.tryDifferentFilter"):a("branches.createFirstBranch")})]})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map((b,c)=>{var e;let f;return(0,d.jsx)(i.BlurFade,{delay:.25+.05*c,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all overflow-hidden",children:[(0,d.jsx)("div",{className:" from-primary-500 to-primary-600 dark:from-primary-600 dark:to-primary-700 px-4 py-2",children:(0,d.jsx)("p",{className:"text-white text-sm font-semibold truncate",children:(e=b.partnerId,f=E?.find(a=>a.id===e),f?.name||`Partner #${e}`)})}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 truncate",children:b.name}),(0,d.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(k.MapPin,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mt-1 "}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:b.address})]}),b.contactName&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.User,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 "}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:b.contactName})]}),b.contactPhone&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(l.Phone,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 "}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:b.contactPhone})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"h-4 w-4 text-gray-500 dark:text-gray-400  flex items-center justify-center",children:(0,d.jsx)("div",{className:"h-3 w-3 rounded-full border-2 border-gray-500 dark:border-gray-400"})}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a("branches.serviceRadius"),": ",b.serviceRadius," ","km"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,d.jsxs)("button",{onClick:()=>{var a;return a=b.id,void v.default.error(`Branch editing coming soon! ${a}`)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-md transition-colors",children:[(0,d.jsx)(n.Edit,{className:"h-4 w-4"}),a("common.edit")]}),(0,d.jsxs)("button",{onClick:()=>{var a;return a=b.id,void v.default.error(`Branch deletion coming soon! ${a}`)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:[(0,d.jsx)(o.Trash2,{className:"h-4 w-4"}),a("common.delete")]})]})]})]})},b.id)})})]})})}[f,h,i,s,t,u,v]=w.then?(await w)():w,a.s(["default",()=>x]),c()}catch(a){c(a)}},!1),23627,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(44617),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/branches",pathname:"/admin/branches",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/branches",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_88dab407._.js.map