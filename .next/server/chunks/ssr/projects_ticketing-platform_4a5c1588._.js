module.exports=[16393,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(14229),g=a.i(47750),h=a.i(61705),i=a.i(83242),j=a.i(75441),k=a.i(1161),l=a.i(68911),m=a.i(54006),n=a.i(24917),o=a.i(33196),p=a.i(5774),q=a.i(75627),r=a.i(34791),s=a.i(73632),t=a.i(33292),u=a.i(80746),v=a.i(4406),w=a.i(12967),x=b([g,q,r,s,t,u,v,w]);function y(){let{t:a,i18n:b}=(0,g.useTranslation)("common"),c=(0,f.useRouter)(),{token:x}=c.query,[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(!1),[I,J]=(0,e.useState)(!1),[K,L]=(0,e.useState)(!0),[M,N]=(0,e.useState)(null),O="ar"===b.language;(0,e.useEffect)(()=>{c.isReady&&!x&&(L(!1),q.toast.error(a("auth.invalidResetToken")))},[c.isReady,x,a]);let P=async b=>{if(b.preventDefault(),(()=>{if(y.length<8)return q.toast.error(a("auth.passwordTooShort")),!1;let b=/[A-Z]/.test(y),c=/[a-z]/.test(y),d=/\d/.test(y);return b&&c&&d?y===A||(q.toast.error(a("auth.passwordsDoNotMatch")),!1):(q.toast.error(a("auth.passwordRequirements")),!1)})()){H(!0);try{await w.default.post("/api/auth/reset-password",{token:x,password:y}),J(!0),q.toast.success(a("auth.passwordResetSuccess")),setTimeout(()=>{c.push("/login")},3e3)}catch(c){console.error("Reset password error:",c);let b=c&&"object"==typeof c&&"response"in c&&c.response&&"object"==typeof c.response&&"data"in c.response&&c.response.data&&"object"==typeof c.response.data&&"error"in c.response.data&&c.response.data.error&&"object"==typeof c.response.data.error&&"message"in c.response.data.error?String(c.response.data.error.message):a("errors.generic");q.toast.error(b)}finally{H(!1)}}};return K?(0,d.jsx)("div",{dir:O?"rtl":"ltr",className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-950 flex items-center justify-center p-4",children:(0,d.jsx)("div",{className:"w-full max-w-md",children:(0,d.jsx)(r.AnimatePresence,{mode:"wait",children:I?(0,d.jsx)(r.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,d.jsx)(t.BlurFade,{delay:.1,children:(0,d.jsxs)(s.MagicCard,{className:"p-8 text-center",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 mb-4",children:(0,d.jsx)(m.CheckCircle2,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:a("auth.passwordResetSuccess")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a("auth.passwordResetSuccessDesc")}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,d.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}),a("auth.redirectingToLogin")]})]})})},"success"):(0,d.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,d.jsx)(t.BlurFade,{delay:.1,children:(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 mb-4",children:(0,d.jsx)(o.Shield,{className:"w-8 h-8 text-white"})}),(0,d.jsx)(u.AnimatedGradientText,{className:"text-3xl font-bold mb-2",children:a("auth.resetPassword")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("auth.resetPasswordDesc")})]})}),(0,d.jsx)(t.BlurFade,{delay:.2,children:(0,d.jsxs)(s.MagicCard,{className:"p-8 relative overflow-hidden",children:[(0,d.jsx)(v.BorderBeam,{size:250,duration:12,delay:9}),(0,d.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("auth.newPassword")}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:`absolute inset-y-0 ${O?"right-0 pr-3":"left-0 pl-3"} flex items-center pointer-events-none`,children:(0,d.jsx)(h.Lock,{className:`h-5 w-5 transition-colors duration-200 ${"password"===M?"text-indigo-600":"text-gray-400"}`})}),(0,d.jsx)("input",{id:"password",name:"password",type:C?"text":"password",required:!0,value:y,onChange:a=>z(a.target.value),onFocus:()=>N("password"),onBlur:()=>N(null),className:`block w-full ${O?"pr-10 pl-10":"pl-10 pr-10"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-200`,placeholder:a("auth.passwordPlaceholder")}),(0,d.jsx)("button",{type:"button",onClick:()=>D(!C),className:`absolute inset-y-0 ${O?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,children:C?(0,d.jsx)(j.EyeOff,{className:"h-5 w-5"}):(0,d.jsx)(i.Eye,{className:"h-5 w-5"})})]}),(0,d.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("auth.passwordHint")})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("auth.confirmPassword")}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:`absolute inset-y-0 ${O?"right-0 pr-3":"left-0 pl-3"} flex items-center pointer-events-none`,children:(0,d.jsx)(h.Lock,{className:`h-5 w-5 transition-colors duration-200 ${"confirmPassword"===M?"text-indigo-600":"text-gray-400"}`})}),(0,d.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:E?"text":"password",required:!0,value:A,onChange:a=>B(a.target.value),onFocus:()=>N("confirmPassword"),onBlur:()=>N(null),className:`block w-full ${O?"pr-10 pl-10":"pl-10 pr-10"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-200`,placeholder:a("auth.confirmPasswordPlaceholder")}),(0,d.jsx)("button",{type:"button",onClick:()=>F(!E),className:`absolute inset-y-0 ${O?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,children:E?(0,d.jsx)(j.EyeOff,{className:"h-5 w-5"}):(0,d.jsx)(i.Eye,{className:"h-5 w-5"})})]})]}),(0,d.jsx)("button",{type:"submit",disabled:G||!y||!A,className:"group relative w-full flex justify-center items-center gap-2 py-3.5 px-4 border border-transparent text-base font-semibold rounded-xl text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:G?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Loader2,{className:"w-5 h-5 animate-spin"}),a("auth.resetting")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Sparkles,{className:"w-5 h-5"}),a("auth.resetPassword")]})}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("button",{type:"button",onClick:()=>c.push("/login"),className:"inline-flex items-center gap-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors",children:[(0,d.jsx)(k.ArrowLeft,{className:"w-4 h-4"}),a("auth.backToLogin")]})})]})]})})]},"form")})})}):(0,d.jsx)("div",{dir:O?"rtl":"ltr",className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-950 flex items-center justify-center p-4",children:(0,d.jsx)("div",{className:"w-full max-w-md",children:(0,d.jsx)(t.BlurFade,{delay:.1,children:(0,d.jsxs)(s.MagicCard,{className:"p-8 text-center",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:(0,d.jsx)(n.AlertCircle,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:a("auth.invalidResetToken")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a("auth.invalidTokenDesc")}),(0,d.jsx)("button",{onClick:()=>c.push("/partner/forgot-password"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-xl transition-all duration-200",children:a("auth.requestNewLink")})]})})})})}[g,q,r,s,t,u,v,w]=x.then?(await x)():x,a.s(["default",()=>y]),c()}catch(a){c(a)}},!1),89456,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(16393),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/partner/reset-password",pathname:"/partner/reset-password",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/partner/reset-password",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_4a5c1588._.js.map