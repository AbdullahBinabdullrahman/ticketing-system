module.exports=[62761,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(74929),f=b([d,e]);function g(){let a=async a=>{let b=await e.partnerHttp.get(a);return b.data.data||b.data},{data:b,error:c,isLoading:f,mutate:g}=(0,d.default)("/users",a,{revalidateOnFocus:!1,revalidateOnReconnect:!0}),h=async a=>{let b=await e.partnerHttp.post("/users",a);return g(),b.data.data||b.data},i=async(a,b)=>{let c=await e.partnerHttp.patch(`/users/${a}`,b);return g(),c.data.data||c.data},j=async a=>{await e.partnerHttp.delete(`/users/${a}`),g()};return{users:b?.users||[],total:b?.total||0,isLoading:f,error:c,mutate:g,createUser:h,updateUser:i,deleteUser:j}}[d,e]=f.then?(await f)():f,a.s(["usePartnerUsers",()=>g]),c()}catch(a){c(a)}},!1),42392,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(16093),h=a.i(62761),i=a.i(95956),j=a.i(61917),k=a.i(31152),l=a.i(27584),m=a.i(98647),n=a.i(81958),o=a.i(24917),p=a.i(33292),q=a.i(75627),r=b([f,g,h,p,q]);function s(){let{t:a,i18n:b}=(0,f.useTranslation)("common"),{users:c,isLoading:r,createUser:s,updateUser:t,deleteUser:u}=(0,h.usePartnerUsers)(),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)({name:"",email:"",phone:"",language:"en"}),F=async b=>{b.preventDefault();try{await s(D),w(!1),E({name:"",email:"",phone:"",language:"en"}),q.default.success(a("partner.users.userCreated"))}catch(c){let b=c instanceof Error?c.message:a("errors.generic");q.default.error(b)}},G=async b=>{if(b.preventDefault(),B)try{await t(B.id,{name:D.name,phone:D.phone}),y(!1),C(null),q.default.success(a("partner.users.userUpdated"))}catch(c){let b=c instanceof Error?c.message:a("errors.generic");q.default.error(b)}},H=async()=>{if(B)try{await u(B.id),A(!1),C(null),q.default.success(a("partner.users.userDeleted"))}catch(c){let b=c instanceof Error?c.message:a("errors.generic");q.default.error(b)}};return r?(0,d.jsx)(g.default,{children:(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):(0,d.jsx)(g.default,{children:(0,d.jsxs)("div",{dir:"ar"===b.language?"rtl":"ltr",children:[(0,d.jsx)(p.BlurFade,{delay:.1,children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:a("partner.users.title")}),(0,d.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[c.length," ",a("partner.profile.usersCount")]})]}),(0,d.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,d.jsx)(j.Plus,{className:"w-5 h-5"}),a("partner.users.addUser")]})]})}),c.length>0?(0,d.jsx)(p.BlurFade,{delay:.2,children:(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("partner.users.userName")}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("partner.users.userEmail")}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("partner.users.userPhone")}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("partner.users.userStatus")}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("partner.users.lastLogin")}),(0,d.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a("common.actions")})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:c.map((c,e)=>(0,d.jsx)(p.BlurFade,{delay:.3+.05*e,children:(0,d.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:" h-10 w-10 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:c.name.charAt(0).toUpperCase()})}),(0,d.jsx)("div",{className:"ml-4",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.name})})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:c.email})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:c.phone||"-"})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:c.isActive?a("partner.users.activeUser"):a("partner.users.inactiveUser")})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:c.lastLoginAt?new Date(c.lastLoginAt).toLocaleDateString(b.language):a("partner.users.neverLoggedIn")}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,d.jsx)("button",{onClick:()=>{C(c),E({name:c.name,email:c.email,phone:c.phone||"",language:"en"}),y(!0)},className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 mr-4",children:(0,d.jsx)(k.Edit,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:()=>{C(c),A(!0)},className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",children:(0,d.jsx)(l.Trash2,{className:"w-4 h-4"})})]})]})},c.id))})]})})}):(0,d.jsx)(p.BlurFade,{delay:.2,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,d.jsx)(i.Users,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:a("partner.users.noUsers")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a("partner.users.createFirstUser")}),(0,d.jsx)("button",{onClick:()=>w(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:a("partner.users.addUser")})]})}),v&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)(p.BlurFade,{children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:a("partner.users.createUser")}),(0,d.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.userName")}),(0,d.jsx)("input",{type:"text",required:!0,minLength:2,value:D.name,onChange:a=>E({...D,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.userEmail")}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(m.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"email",required:!0,value:D.email,onChange:a=>E({...D,email:a.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("partner.users.userPhone")," ",(0,d.jsxs)("span",{className:"text-gray-500",children:["(",a("common.optional"),")"]})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(n.Phone,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"tel",value:D.phone,onChange:a=>E({...D,phone:a.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.language")}),(0,d.jsxs)("select",{value:D.language,onChange:a=>E({...D,language:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",children:[(0,d.jsx)("option",{value:"en",children:"English"}),(0,d.jsx)("option",{value:"ar",children:"العربية"})]})]}),(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(o.AlertCircle,{className:"w-5 h-5 text-blue-600 dark:text-blue-400  mt-0.5"}),(0,d.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:a("partner.users.sendWelcomeEmail")})]})}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsx)("button",{type:"submit",className:"flex-1 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:a("partner.users.createUser")}),(0,d.jsx)("button",{type:"button",onClick:()=>{w(!1),E({name:"",email:"",phone:"",language:"en"})},className:"flex-1 px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:a("common.cancel")})]})]})]})})}),x&&B&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)(p.BlurFade,{children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:a("partner.users.editUser")}),(0,d.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.userName")}),(0,d.jsx)("input",{type:"text",required:!0,minLength:2,value:D.name,onChange:a=>E({...D,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.userEmail")}),(0,d.jsx)("input",{type:"email",disabled:!0,value:D.email,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-900 text-gray-500 dark:text-gray-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("partner.users.userPhone")}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(n.Phone,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"tel",value:D.phone,onChange:a=>E({...D,phone:a.target.value}),className:"pl-10 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsx)("button",{type:"submit",className:"flex-1 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:a("partner.users.updateUser")}),(0,d.jsx)("button",{type:"button",onClick:()=>{y(!1),C(null)},className:"flex-1 px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:a("common.cancel")})]})]})]})})}),z&&B&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsx)(p.BlurFade,{children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:"p-3 bg-red-100 dark:bg-red-900/20 rounded-full",children:(0,d.jsx)(o.AlertCircle,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a("partner.users.deleteUser")})]}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a("partner.users.confirmDelete")}),(0,d.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg mb-6",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:B.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:B.email})]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:H,className:"flex-1 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:a("common.delete")}),(0,d.jsx)("button",{onClick:()=>{A(!1),C(null)},className:"flex-1 px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:a("common.cancel")})]})]})})})]})})}[f,g,h,p,q]=r.then?(await r)():r,a.s(["default",()=>s]),c()}catch(a){c(a)}},!1),17088,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(42392),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/partner/users",pathname:"/partner/users",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/partner/users",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_3e0f0364._.js.map