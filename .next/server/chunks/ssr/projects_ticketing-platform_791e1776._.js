module.exports=[50824,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(68382),f=a.i(27669),g=b([d,e]);function h(){let[a,b]=(0,f.useState)(!1),[c,g]=(0,f.useState)(null),h=async a=>{b(!0),g(null);try{let b=await e.default.post("/admin/configurations",a);return await (0,d.mutate)("/admin/configurations"),await (0,d.mutate)(`/admin/configurations/${a.key}`),b.data}catch(b){let a=b&&"object"==typeof b&&"response"in b&&b.response&&"object"==typeof b.response&&"data"in b.response&&b.response.data&&"object"==typeof b.response.data&&"error"in b.response.data&&b.response.data.error&&"object"==typeof b.response.data.error&&"message"in b.response.data.error&&"string"==typeof b.response.data.error.message?b.response.data.error.message:"Failed to update configuration";throw g(a),Error(a)}finally{b(!1)}},i=async a=>{b(!0),g(null);try{let b=a.map(a=>e.default.post("/admin/configurations",a)),c=await Promise.all(b);for(let b of(await (0,d.mutate)("/admin/configurations"),a))await (0,d.mutate)(`/admin/configurations/${b.key}`);return c.map(a=>a.data)}catch(b){let a=b&&"object"==typeof b&&"response"in b&&b.response&&"object"==typeof b.response&&"data"in b.response&&b.response.data&&"object"==typeof b.response.data&&"error"in b.response.data&&b.response.data.error&&"object"==typeof b.response.data.error&&"message"in b.response.data.error&&"string"==typeof b.response.data.error.message?b.response.data.error.message:"Failed to update configurations";throw g(a),Error(a)}finally{b(!1)}},j=async a=>{b(!0),g(null);try{await e.default.delete(`/admin/configurations/${a}`),await (0,d.mutate)("/admin/configurations"),await (0,d.mutate)(`/admin/configurations/${a}`)}catch(b){let a=b&&"object"==typeof b&&"response"in b&&b.response&&"object"==typeof b.response&&"data"in b.response&&b.response.data&&"object"==typeof b.response.data&&"error"in b.response.data&&b.response.data.error&&"object"==typeof b.response.data.error&&"message"in b.response.data.error&&"string"==typeof b.response.data.error.message?b.response.data.error.message:"Failed to delete configuration";throw g(a),Error(a)}finally{b(!1)}};return{updateConfiguration:h,updateMultipleConfigurations:i,deleteConfiguration:j,isUpdating:a,updateError:c}}function i(){let{getConfigValue:a,getConfig:b,isLoading:c,isError:f}=function(){let{data:a,error:b,isLoading:c}=(0,d.default)("/admin/configurations",a=>e.default.get(a).then(a=>a.data.data));return{configurations:a?.configurations||[],total:a?.total||0,isLoading:c,isError:!!b,error:b,getConfigValue:b=>a?.configurations?.find(a=>a.key===b)?.value,getConfig:b=>a?.configurations?.find(a=>a.key===b)}}(),g=a("sla_timeout_minutes"),h=a("operational_team_emails"),i=a("admin_notification_emails");return{slaTimeout:g?parseInt(g,10):15,operationalTeamEmails:h||"",adminEmails:i||"",slaConfig:b("sla_timeout_minutes"),operationalConfig:b("operational_team_emails"),adminConfig:b("admin_notification_emails"),isLoading:c,isError:f}}[d,e]=g.then?(await g)():g,a.s(["useSlaSettings",()=>i,"useUpdateSettings",()=>h]),c()}catch(a){c(a)}},!1),78859,a=>{"use strict";let b=(0,a.i(13792).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);a.s(["RotateCcw",()=>b],78859)},16904,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(14229),h=a.i(79336),i=a.i(50824),j=a.i(33292),k=a.i(62806),l=a.i(4776),m=a.i(15742),n=a.i(98647),o=a.i(14694),p=a.i(78859),q=a.i(24917),r=a.i(54006),s=a.i(44046),t=a.i(75627),u=a.i(35519),v=b([f,h,i,j,k,t,u]);function w(){let{t:a,i18n:b}=(0,f.useTranslation)("common"),c=(0,g.useRouter)(),v="ar"===b.language,{slaTimeout:w,operationalTeamEmails:x,adminEmails:y,isLoading:z,isError:A}=(0,i.useSlaSettings)(),{updateMultipleConfigurations:B,isUpdating:C}=(0,i.useUpdateSettings)(),[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)(""),[H,I]=(0,e.useState)(""),[J,K]=(0,e.useState)(!1),[L,M]=(0,e.useState)({});(0,e.useEffect)(()=>{z||(E(a=>""===a?w.toString():a),G(a=>""===a?x:a),I(a=>""===a?y:a))},[w,x,y,z]);let N=D!==w.toString()||F!==x||H!==y;(0,e.useEffect)(()=>{K(N)},[N]);let O=a=>{if(!a.trim())return!0;let b=a.split(",").map(a=>a.trim()),c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return b.every(a=>""===a||c.test(a))},P=async()=>{let b,c;if(b={},c=parseInt(D,10),!isNaN(c)&&c>=1&&c<=60||(b.slaTimeout=a("settings.slaTimeoutError")),O(F)||(b.operationalEmails=a("settings.emailFormatError")),O(H)||(b.adminEmails=a("settings.emailFormatError")),M(b),0!==Object.keys(b).length)return void t.default.error(a("settings.validationError"));try{let b=[];if(D!==w.toString()&&b.push({key:"sla_timeout_minutes",value:D,description:"SLA timeout in minutes for partner response"}),F!==x&&b.push({key:"operational_team_emails",value:F,description:"Comma-separated operational team email addresses"}),H!==y&&b.push({key:"admin_notification_emails",value:H,description:"Comma-separated admin notification email addresses"}),0===b.length)return void(0,t.default)(a("settings.noChanges"),{icon:(0,d.jsx)(s.Info,{className:"h-5 w-5 text-blue-500"})});await B(b),t.default.success(a("settings.saveSuccess"),{icon:(0,d.jsx)(r.CheckCircle2,{className:"h-5 w-5 text-green-500"})}),K(!1)}catch(c){let b=c instanceof Error?c.message:a("settings.saveError");console.error("Failed to save settings:",c),t.default.error(b,{icon:(0,d.jsx)(q.AlertCircle,{className:"h-5 w-5 text-red-500"})})}};return z?(0,d.jsx)(h.default,{children:(0,d.jsxs)("div",{dir:v?"rtl":"ltr",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)(u.Skeleton,{className:"h-8 w-64 mb-2"}),(0,d.jsx)(u.Skeleton,{className:"h-4 w-96"})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(u.Skeleton,{className:"h-64 w-full"}),(0,d.jsx)(u.Skeleton,{className:"h-48 w-full"})]})]})}):A?(0,d.jsx)(h.default,{children:(0,d.jsx)("div",{dir:v?"rtl":"ltr",children:(0,d.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[(0,d.jsx)(q.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:a("settings.loadError")}),(0,d.jsx)("button",{onClick:()=>c.reload(),className:"mt-4 px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-md transition-colors",children:a("common.retry")})]})})}):(0,d.jsx)(h.default,{children:(0,d.jsxs)("div",{dir:v?"rtl":"ltr",children:[(0,d.jsx)(j.BlurFade,{delay:.1,children:(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)(l.Settings,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a("settings.title")})]}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("settings.description")})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,d.jsx)(j.BlurFade,{delay:.2,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:(0,d.jsx)(m.Clock,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.slaConfiguration")}),(0,d.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("settings.slaConfigurationDescription")})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"slaTimeout",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("settings.slaTimeout")}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{id:"slaTimeout",type:"number",min:"1",max:"60",value:D,onChange:a=>{E(a.target.value),L.slaTimeout&&M({...L,slaTimeout:void 0})},className:`w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 dark:text-white ${L.slaTimeout?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"15"}),(0,d.jsx)("div",{className:"absolute inset-y-0 left-10 flex items-center pr-3 pointer-events-none",children:(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:a("settings.minutes")})})]}),L.slaTimeout&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[(0,d.jsx)(q.AlertCircle,{className:"h-3 w-3"}),L.slaTimeout]}),(0,d.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:a("settings.slaTimeoutHelp")})]})]})}),(0,d.jsx)(j.BlurFade,{delay:.3,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:(0,d.jsx)(n.Mail,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.notificationConfiguration")}),(0,d.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("settings.notificationConfigurationDescription")})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"operationalEmails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("settings.operationalTeamEmails")}),(0,d.jsx)("textarea",{id:"operationalEmails",rows:3,value:F,onChange:a=>{G(a.target.value),L.operationalEmails&&M({...L,operationalEmails:void 0})},className:`w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 dark:text-white ${L.operationalEmails?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"ops1@example.com, ops2@example.com"}),L.operationalEmails&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[(0,d.jsx)(q.AlertCircle,{className:"h-3 w-3"}),L.operationalEmails]}),(0,d.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:a("settings.operationalTeamEmailsHelp")})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"adminEmails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("settings.adminEmails")}),(0,d.jsx)("textarea",{id:"adminEmails",rows:3,value:H,onChange:a=>{I(a.target.value),L.adminEmails&&M({...L,adminEmails:void 0})},className:`w-full px-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all bg-white dark:bg-gray-700 dark:text-white ${L.adminEmails?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"admin@example.com"}),L.adminEmails&&(0,d.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[(0,d.jsx)(q.AlertCircle,{className:"h-3 w-3"}),L.adminEmails]}),(0,d.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:a("settings.adminEmailsHelp")})]})]})]})})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(j.BlurFade,{delay:.2,children:(0,d.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-lg shadow-sm border border-primary-200 dark:border-primary-700 p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100 mb-4 uppercase tracking-wide",children:a("settings.currentSettings")}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.slaTimeout")}),(0,d.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[w," ",a("settings.minutes")]})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.operationalTeam")}),(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:x||a("settings.notConfigured")})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.adminTeam")}),(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:y||a("settings.notConfigured")})]})]})]})}),(0,d.jsx)(j.BlurFade,{delay:.3,children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(k.ShimmerButton,{onClick:P,disabled:!J||C,className:"w-full",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),a("settings.saving")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Save,{className:"h-4 w-4 mr-2"}),a("settings.saveSettings")]})}),(0,d.jsxs)("button",{type:"button",onClick:()=>{E(w.toString()),G(x),I(y),M({}),K(!1),(0,t.default)(a("settings.resetSuccess"),{icon:(0,d.jsx)(s.Info,{className:"h-5 w-5 text-blue-500"})})},disabled:!J||C,className:"w-full px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,d.jsx)(p.RotateCcw,{className:"h-4 w-4"}),a("settings.resetDefaults")]})]}),J&&(0,d.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg flex items-start gap-2",children:[(0,d.jsx)(s.Info,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),(0,d.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:a("settings.unsavedChanges")})]})]})}),(0,d.jsx)(j.BlurFade,{delay:.4,children:(0,d.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-3",children:a("settings.helpTitle")}),(0,d.jsxs)("ul",{className:"space-y-2 text-xs text-blue-800 dark:text-blue-200",children:[(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(r.CheckCircle2,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),(0,d.jsx)("span",{children:a("settings.helpSla")})]}),(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(r.CheckCircle2,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),(0,d.jsx)("span",{children:a("settings.helpOperational")})]}),(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(r.CheckCircle2,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),(0,d.jsx)("span",{children:a("settings.helpAdmin")})]})]})]})})]})]})]})})}[f,h,i,j,k,t,u]=v.then?(await v)():v,a.s(["default",()=>w]),c()}catch(a){c(a)}},!1),70021,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(16904),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/settings",pathname:"/admin/settings",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/settings",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_791e1776._.js.map