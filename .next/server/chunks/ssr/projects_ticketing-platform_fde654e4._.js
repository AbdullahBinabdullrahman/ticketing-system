module.exports=[14918,a=>{"use strict";let b=(0,a.i(13792).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],14918)},7975,a=>{"use strict";let b=(0,a.i(13792).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);a.s(["Key",()=>b],7975)},84478,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(79336),h=a.i(73632),i=a.i(33292),j=a.i(86293),k=a.i(88410),l=a.i(98647),m=a.i(81958),n=a.i(33196),o=a.i(82031),p=a.i(40128),q=a.i(31152),r=a.i(14918),s=a.i(88948),t=a.i(7975),u=a.i(75627),v=a.i(6197),w=a.i(48155),x=a.i(97010),y=a.i(7116),z=a.i(68382),A=b([f,g,h,i,j,u,v,w,x,z]);[f,g,h,i,j,u,v,w,x,z]=A.then?(await A)():A;let C=x.z.object({name:x.z.string().min(2,"Name must be at least 2 characters"),email:x.z.string().email("Invalid email address"),phone:x.z.string().optional(),languagePreference:x.z.enum(["en","ar"])}),D=x.z.object({currentPassword:x.z.string().min(1,"Current password is required"),newPassword:x.z.string().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain uppercase, lowercase, and number"),confirmPassword:x.z.string()}).refine(a=>a.newPassword===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function B(){let{t:a}=(0,f.useTranslation)("common"),{user:b,refreshUser:c}=(0,j.useAuth)(),[x,A]=(0,e.useState)(!1),[B,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),{register:H,handleSubmit:I,formState:{errors:J},reset:K}=(0,v.useForm)({resolver:(0,w.zodResolver)(C),defaultValues:{name:b?.name||"",email:b?.email||"",phone:b?.phone||"",languagePreference:b?.languagePreference||"en"}}),{register:L,handleSubmit:M,formState:{errors:N},reset:O}=(0,v.useForm)({resolver:(0,w.zodResolver)(D)}),P=async b=>{try{G(!0),await z.default.patch("/auth/profile",b),await c(),u.default.success(a("success.updated")),A(!1)}catch(c){let b=c instanceof Error?c.message:a("errors.generic");u.default.error(b)}finally{G(!1)}},Q=async b=>{try{G(!0),await z.default.post("/auth/profile/change-password",{currentPassword:b.currentPassword,newPassword:b.newPassword}),u.default.success(a("auth.passwordChangedSuccess")),E(!1),O()}catch(c){let b=c instanceof Error?c.message:a("errors.generic");u.default.error(b)}finally{G(!1)}};return b?(0,d.jsx)(g.default,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(i.BlurFade,{delay:.1,children:(0,d.jsx)("div",{className:"flex justify-between items-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a("navigation.profile")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a("auth.manageYourProfile")})]})})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-2",children:[(0,d.jsx)(i.BlurFade,{delay:.15,children:(0,d.jsxs)(h.MagicCard,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,d.jsx)(k.User,{className:"w-5 h-5"}),a("auth.profileInformation")]}),x?null:(0,d.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",children:[(0,d.jsx)(q.Edit,{className:"w-4 h-4"}),a("common.edit")]})]}),(0,d.jsxs)("form",{onSubmit:I(P),className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.name")," *"]}),(0,d.jsx)("input",{...H("name"),type:"text",disabled:!x,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),J.name&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:J.name.message})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.email")," *"]}),(0,d.jsx)("input",{...H("email"),type:"email",disabled:!x,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"}),J.email&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:J.email.message})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.phone")," (",a("common.optional"),")"]}),(0,d.jsx)("input",{...H("phone"),type:"tel",disabled:!x,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("common.language")}),(0,d.jsxs)("select",{...H("languagePreference"),disabled:!x,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",children:[(0,d.jsx)("option",{value:"en",children:"English"}),(0,d.jsx)("option",{value:"ar",children:"العربية"})]})]}),x&&(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>{K({name:b?.name||"",email:b?.email||"",phone:b?.phone||"",languagePreference:b?.languagePreference||"en"}),A(!1)},disabled:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900 dark:text-white transition-colors disabled:opacity-50",children:[(0,d.jsx)(s.X,{className:"w-4 h-4"}),a("common.cancel")]}),(0,d.jsxs)("button",{type:"submit",disabled:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,d.jsx)(r.Check,{className:"w-4 h-4"}),F?a("common.updating"):a("common.save")]})]})]})]})}),(0,d.jsx)(i.BlurFade,{delay:.25,children:(0,d.jsxs)(h.MagicCard,{className:"p-6 mt-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,d.jsx)(t.Key,{className:"w-5 h-5"}),a("auth.changePassword")]}),B?null:(0,d.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",children:[(0,d.jsx)(q.Edit,{className:"w-4 h-4"}),a("common.edit")]})]}),B?(0,d.jsxs)("form",{onSubmit:M(Q),className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.currentPassword")," *"]}),(0,d.jsx)("input",{...L("currentPassword"),type:"password",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white",placeholder:a("auth.enterCurrentPassword")}),N.currentPassword&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.currentPassword.message})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.newPassword")," *"]}),(0,d.jsx)("input",{...L("newPassword"),type:"password",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white",placeholder:a("auth.passwordPlaceholder")}),N.newPassword&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.newPassword.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:a("auth.passwordHint")})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("auth.confirmPassword")," *"]}),(0,d.jsx)("input",{...L("confirmPassword"),type:"password",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-900 dark:text-white",placeholder:a("auth.confirmPasswordPlaceholder")}),N.confirmPassword&&(0,d.jsx)("p",{className:"text-red-500 text-sm mt-1",children:N.confirmPassword.message})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>{E(!1),O()},disabled:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900 dark:text-white transition-colors disabled:opacity-50",children:[(0,d.jsx)(s.X,{className:"w-4 h-4"}),a("common.cancel")]}),(0,d.jsxs)("button",{type:"submit",disabled:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[(0,d.jsx)(r.Check,{className:"w-4 h-4"}),F?a("auth.changing"):a("auth.changePassword")]})]})]}):(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("auth.changePasswordDesc")})]})})]}),(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsx)(i.BlurFade,{delay:.2,children:(0,d.jsxs)(h.MagicCard,{className:"p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a("auth.accountInfo")}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(n.Shield,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("users.role")}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:b.userType})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(l.Mail,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("auth.email")}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white break-all",children:b.email})]})]}),b.phone&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(m.Phone,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("auth.phone")}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:b.phone})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(o.Globe,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("common.language")}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"ar"===b.languagePreference?"العربية":"English"})]})]}),b.lastLoginAt&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(p.Calendar,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("users.lastLogin")}),(0,d.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(0,y.format)(new Date(b.lastLoginAt),"PPp")})]})]})]})]})})})]})]})}):(0,d.jsx)(g.default,{children:(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,d.jsxs)("div",{className:"text-gray-500",children:[a("common.loading"),"..."]})})})}a.s(["default",()=>B]),c()}catch(a){c(a)}},!1),80048,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(84478),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/profile",pathname:"/admin/profile",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/profile",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_fde654e4._.js.map