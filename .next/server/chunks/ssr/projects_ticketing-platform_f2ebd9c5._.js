module.exports=[75553,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(88925),f=b([d,e]);function g(a){let b=async a=>{let b=await e.apiClient.get(a);return b.data.data||b.data},{data:c,error:f,isLoading:g,mutate:h}=(0,d.default)(a?`/admin/partners/${a}/categories`:null,b,{revalidateOnFocus:!1,revalidateOnReconnect:!0}),i=async b=>{await e.apiClient.post(`/admin/partners/${a}/categories`,{categoryId:b}),h()},j=async b=>{await e.apiClient.delete(`/admin/partners/${a}/categories`,{data:{categoryId:b}}),h()};return{categories:c?.categories||[],total:c?.total||0,isLoading:g,error:f,mutate:h,assignCategory:i,removeCategory:j}}[d,e]=f.then?(await f)():f,a.s(["usePartnerCategories",()=>g]),c()}catch(a){c(a)}},!1),51170,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(14229),h=a.i(79336),i=a.i(96522),j=a.i(75553),k=a.i(90055),l=a.i(33292),m=a.i(73632),n=a.i(62805),o=a.i(1161),p=a.i(61917),q=a.i(88948),r=a.i(68911),s=a.i(24917),t=a.i(15559),u=a.i(75627),v=a.i(34791),w=b([f,h,i,j,k,l,m,u,v]);function x(){let{t:a,i18n:b}=(0,f.useTranslation)("common"),c=(0,g.useRouter)(),{id:w}=c.query,x=w?parseInt(w):null,y="ar"===b.language,{partner:z,isLoading:A}=(0,i.usePartner)(x),{categories:B,isLoading:C,assignCategory:D,removeCategory:E}=(0,j.usePartnerCategories)(x),{categories:F}=(0,k.useCategories)(),[G,H]=(0,e.useState)(!1),[I,J]=(0,e.useState)(null),[K,L]=(0,e.useState)(!1),M=B.map(a=>a.categoryId),N=F.filter(a=>!M.includes(a.id)),O=async()=>{if(!I)return void u.toast.error(a("categories.selectCategory"));L(!0);try{await D(I),u.toast.success(a("success.assigned")),H(!1),J(null)}catch(b){u.toast.error(b.response?.data?.message||a("errors.generic"))}finally{L(!1)}},P=async b=>{if(confirm(a("categories.confirmRemove")))try{await E(b),u.toast.success(a("success.deleted"))}catch(b){u.toast.error(b.response?.data?.message||a("errors.generic"))}};return A||C?(0,d.jsx)(h.default,{children:(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",dir:y?"rtl":"ltr",children:(0,d.jsxs)(v.motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[(0,d.jsx)(r.Loader2,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-indigo-600"}),(0,d.jsx)("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:a("common.loading")})]})})}):z?(0,d.jsxs)(h.default,{children:[(0,d.jsx)("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900",dir:y?"rtl":"ltr",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,d.jsx)(l.BlurFade,{delay:.1,children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:()=>c.back(),className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,d.jsx)(o.ArrowLeft,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a("categories.title")}),(0,d.jsx)("p",{className:"text-sm mt-1 text-gray-600 dark:text-gray-400",children:z.name})]})]}),(0,d.jsxs)(v.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>H(!0),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200  from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl",children:[(0,d.jsx)(p.Plus,{className:"h-5 w-5"}),a("categories.assignCategory")]})]})}),(0,d.jsx)(l.BlurFade,{delay:.2,children:0===B.length?(0,d.jsxs)(m.MagicCard,{className:"p-12 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 text-center",children:[(0,d.jsx)(n.Tag,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:a("categories.noCategories")}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a("categories.noCategoriesDescription")}),(0,d.jsxs)("button",{onClick:()=>H(!0),className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200  from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",children:[(0,d.jsx)(p.Plus,{className:"h-5 w-5"}),a("categories.assignFirst")]})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(b=>(0,d.jsx)(l.BlurFade,{delay:.3,children:(0,d.jsxs)(m.MagicCard,{className:"p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[b.categoryIcon&&(0,d.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,d.jsx)("span",{className:"text-2xl",children:b.categoryIcon})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.categoryName}),b.categoryDescription&&(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:b.categoryDescription})]})]}),(0,d.jsx)(v.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(b.categoryId),className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors text-red-600 dark:text-red-400",children:(0,d.jsx)(q.X,{className:"h-5 w-5"})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,d.jsx)(t.CheckCircle,{className:"h-4 w-4 text-green-500"}),(0,d.jsx)("span",{children:a("categories.assigned")})]})]})},b.id))})})]})}),(0,d.jsx)(v.AnimatePresence,{children:G&&(0,d.jsx)(v.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!K&&H(!1),children:(0,d.jsxs)(v.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("categories.assignCategory")}),(0,d.jsx)("button",{onClick:()=>H(!1),disabled:K,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:(0,d.jsx)(q.X,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]}),0===N.length?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(s.AlertCircle,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("categories.allAssigned")})]}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:a("categories.selectCategory")}),(0,d.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:N.map(a=>(0,d.jsx)(v.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>J(a.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${I===a.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[a.iconUrl&&(0,d.jsx)("span",{className:"text-2xl",children:a.iconUrl}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:a.name}),a.description&&(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.description})]})]})},a.id))})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("button",{onClick:()=>H(!1),disabled:K,className:"px-6 py-3 rounded-xl font-semibold transition-colors bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50",children:a("common.cancel")}),(0,d.jsx)(v.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,disabled:!I||K,className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2  from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:K?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Loader2,{className:"h-5 w-5 animate-spin"}),a("common.assigning")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Plus,{className:"h-5 w-5"}),a("categories.assign")]})})]})]})]})})})]}):(0,d.jsx)(h.default,{children:(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",dir:y?"rtl":"ltr",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(s.AlertCircle,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,d.jsx)("h2",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:a("partners.notFound")}),(0,d.jsx)("button",{onClick:()=>c.push("/admin/partners"),className:"px-4 py-2 rounded-lg transition-colors  from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white",children:a("partners.backToList")})]})})})}[f,h,i,j,k,l,m,u,v]=w.then?(await w)():w,a.s(["default",()=>x]),c()}catch(a){c(a)}},!1),20614,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(51170),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/partners/[id]/categories",pathname:"/admin/partners/[id]/categories",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/partners/[id]/categories",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_f2ebd9c5._.js.map