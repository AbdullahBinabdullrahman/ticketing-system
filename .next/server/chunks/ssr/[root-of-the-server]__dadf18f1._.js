module.exports=[24917,a=>{"use strict";let b=(0,a.i(13792).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],24917)},54006,a=>{"use strict";let b=(0,a.i(13792).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],54006)},61917,a=>{"use strict";let b=(0,a.i(13792).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],61917)},68911,a=>{"use strict";let b=(0,a.i(13792).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],68911)},1161,a=>{"use strict";let b=(0,a.i(13792).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],1161)},3036,a=>a.a(async(b,c)=>{try{let b=await a.y("react-map-gl/mapbox");a.n(b),c()}catch(a){c(a)}},!0),99240,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(3036),g=a.i(3750),h=b([f]);function i({latitude:a,longitude:b,onLocationChange:c,draggableMarker:h=!1,center:i,markers:j,onClick:k,height:l,className:m="",zoom:n=13}){let o=i?{lng:i[0],lat:i[1]}:{lng:b||0,lat:a||0},[p,q]=(0,e.useState)({latitude:a||0,longitude:b||0}),r=(0,e.useRef)(!1);return((0,e.useEffect)(()=>{r.current||void 0===a||void 0===b||a===p.latitude&&b===p.longitude||q({latitude:a,longitude:b})},[a,b]),isNaN(o.lng)||isNaN(o.lat)||0===o.lng||0===o.lat)?(0,d.jsx)("div",{className:`flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-lg ${m}`,style:{height:l||"400px"},children:(0,d.jsxs)("div",{className:"text-center p-8",children:[(0,d.jsx)(g.MapPin,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Get Current Location" or click on the map to set a location'})]})}):(0,d.jsxs)("div",{className:`relative overflow-hidden rounded-lg ${m}`,style:{height:l||"100%"},children:[(0,d.jsxs)(f.default,{latitude:o.lat,longitude:o.lng,zoom:n,onClick:a=>{if(a.lngLat){if(k)k(a.lngLat.lng,a.lngLat.lat);else if(c){let b=a.lngLat.lat,d=a.lngLat.lng;q({latitude:b,longitude:d}),c(b,d)}}},mapStyle:"mapbox://styles/mapbox/streets-v12",mapboxAccessToken:"pk.eyJ1IjoicXVhbnRlY2siLCJhIjoiY21iYW91M2tuMGlkYTJqc2Ixd2oweDFnaiJ9.COMT_9H4zhSZ60ymBqXrCQ",style:{width:"100%",height:"100%"},attributionControl:!1,children:[(0,d.jsx)(f.NavigationControl,{position:"top-right"}),!j&&void 0!==a&&void 0!==b&&(0,d.jsx)(f.Marker,{latitude:p.latitude,longitude:p.longitude,draggable:h,onDragStart:()=>{r.current=!0},onDragEnd:a=>{let{lngLat:b}=a,d=b.lat,e=b.lng;r.current=!1,q({latitude:d,longitude:e}),c&&c(d,e)},children:(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)("div",{className:"absolute -top-10 -left-4",children:(0,d.jsx)(g.MapPin,{className:"h-10 w-10 text-indigo-600 drop-shadow-lg",fill:"currentColor",strokeWidth:1})})})}),j&&j.map((a,b)=>(0,d.jsx)(f.Marker,{latitude:a.lat,longitude:a.lng,children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute -top-10 -left-4",children:(0,d.jsx)(g.MapPin,{className:"h-10 w-10 text-indigo-600 drop-shadow-lg",fill:"currentColor",strokeWidth:1})}),a.label&&(0,d.jsx)("div",{className:"absolute -top-14 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 px-2 py-1 rounded shadow-lg text-xs whitespace-nowrap",children:a.label})]})},b))]}),(h||c)&&!k&&(0,d.jsx)("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-lg text-xs pointer-events-none",children:(0,d.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Click on map or drag marker to set location"})}),k&&(0,d.jsx)("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-lg text-xs pointer-events-none",children:(0,d.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Click on the map to set location"})})]})}[f]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),81311,a=>{"use strict";let b=(0,a.i(13792).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],81311)},34541,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(14229),h=a.i(15022),i=a.i(61917),j=a.i(63022),k=a.i(88435),l=a.i(88948),m=a.i(82031),n=a.i(24917),o=b([f]);function p({children:a}){let{t:b,i18n:c}=(0,f.useTranslation)("common"),o=(0,g.useRouter)(),[p,q]=(0,e.useState)(!1),r=[{name:b("customer.myRequests"),href:"/customer/requests",icon:h.FileText},{name:b("customer.newRequest"),href:"/customer/requests/new",icon:i.Plus}],s=()=>{let a="en"===c.language?"ar":"en";c.changeLanguage(a),document.documentElement.dir="ar"===a?"rtl":"ltr"},t="ar"===c.language;return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",dir:t?"rtl":"ltr",children:[(0,d.jsxs)("div",{className:"bg-yellow-500 text-black px-4 py-2 text-center text-sm font-medium",children:[(0,d.jsx)(n.AlertCircle,{className:"inline h-4 w-4 mr-2"}),b("customer.testMode")," - This portal simulates mobile app API calls using test customer account"]}),(0,d.jsx)("div",{className:"lg:hidden bg-white dark:bg-gray-800 shadow-sm",children:(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,d.jsx)("button",{onClick:()=>q(!p),className:"p-2 rounded-md text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:p?(0,d.jsx)(l.X,{className:"h-6 w-6"}):(0,d.jsx)(k.Menu,{className:"h-6 w-6"})}),(0,d.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b("customer.portal")}),(0,d.jsx)("button",{onClick:s,className:"p-2 rounded-md text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,d.jsx)(m.Globe,{className:"h-5 w-5"})})]})}),(0,d.jsxs)("div",{className:"flex h-screen",children:[(0,d.jsx)("aside",{className:`${p?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 ${t?"right-0":"left-0"} z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transition-transform duration-300 ease-in-out lg:shadow-none`,children:(0,d.jsxs)("div",{className:"flex flex-col h-full",children:[(0,d.jsxs)("div",{className:"hidden lg:flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h1",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:b("customer.portal")}),(0,d.jsx)("button",{onClick:s,className:"p-2 rounded-md text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,d.jsx)(m.Globe,{className:"h-5 w-5"})})]}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:r.map(a=>{let b=o.pathname===a.href;return(0,d.jsxs)("button",{onClick:()=>{o.push(a.href),q(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${b?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[(0,d.jsx)(a.icon,{className:"h-5 w-5 shrink-0"}),(0,d.jsx)("span",{className:"font-medium",children:a.name})]},a.name)})}),(0,d.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,d.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[(0,d.jsx)(j.LogOut,{className:"h-5 w-5 shrink-0"}),(0,d.jsx)("span",{className:"font-medium",children:b("auth.logout")})]})})]})}),(0,d.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,d.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:a})})]}),p&&(0,d.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>q(!1)})]})}[f]=o.then?(await o)():o,a.s(["default",()=>p]),c()}catch(a){c(a)}},!1),85303,a=>a.a(async(b,c)=>{try{var d=a.i(12967),e=a.i(26777),f=b([d]);[d]=f.then?(await f)():f;let g=d.default.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});g.interceptors.request.use(a=>a,a=>(e.logger.error("Customer HTTP request error",{error:a}),Promise.reject(a))),g.interceptors.response.use(a=>a,a=>(a.response?.status,e.logger.error("Customer HTTP response error",{status:a.response?.status,message:a.response?.data?.message||a.message}),Promise.reject(a))),a.s(["default",0,g]),c()}catch(a){c(a)}},!1),46248,a=>a.a(async(b,c)=>{try{var d=a.i(37862),e=a.i(85303),f=b([d,e]);function g(a){let{data:b,error:c,isLoading:f,mutate:g}=(0,d.default)(a?`/customer/requests/${a}`:null,async a=>(await e.default.get(a)).data);return{request:b?.data,isLoading:f,error:c,refetch:g}}function h(){return{createRequest:async a=>{let b=await e.default.post("/customer/requests",a);return(0,d.mutate)(a=>"string"==typeof a&&a.startsWith("/customer/requests")),b.data}}}function i(a){return{rateRequest:async b=>{let c=await e.default.post(`/customer/requests/${a}/rate`,b);return(0,d.mutate)(`/customer/requests/${a}`),(0,d.mutate)(a=>"string"==typeof a&&a.startsWith("/customer/requests")),c.data}}}[d,e]=f.then?(await f)():f,a.s(["useCreateRequest",()=>h,"useCustomerRequest",()=>g,"useRateRequest",()=>i]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__dadf18f1._.js.map