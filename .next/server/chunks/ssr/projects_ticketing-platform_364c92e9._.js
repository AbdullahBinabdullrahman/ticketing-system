module.exports=[55034,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7116),f=a.i(3750),g=a.i(81958),h=a.i(40128),i=a.i(61462),j=a.i(64644),k=b([i,j]);function l({requestNumber:a,customerName:b,customerPhone:c,customerAddress:k,status:l,createdAt:m,onClick:n,className:o}){return(0,d.jsxs)("div",{onClick:n,className:(0,j.cn)("bg-white rounded-lg shadow-sm border border-gray-200 p-4 transition-colors cursor-pointer dark:bg-black dark:border-gray-800",o),children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b})]}),(0,d.jsx)(i.default,{status:l})]}),(0,d.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,d.jsx)(g.Phone,{className:"h-4 w-4 mr-2"}),c]}),(0,d.jsxs)("div",{className:"flex items-start text-sm text-gray-600 dark:text-gray-400",children:[(0,d.jsx)(f.MapPin,{className:"h-4 w-4 mr-2 mt-0.5"}),(0,d.jsx)("span",{className:"truncate",children:k})]}),(0,d.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-500",children:[(0,d.jsx)(h.Calendar,{className:"h-3 w-3 mr-1"}),(0,e.format)(new Date(m),"MMM dd, yyyy HH:mm")]})]})]})}[i,j]=k.then?(await k)():k,a.s(["default",()=>l]),c()}catch(a){c(a)}},!1),7120,a=>{"use strict";let b=(0,a.i(13792).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],7120)},39557,a=>{"use strict";let b=(0,a.i(13792).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],39557)},76623,a=>{"use strict";let b=(0,a.i(13792).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],76623)},15106,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(88948),h=a.i(88410),i=a.i(81958),j=a.i(3750),k=a.i(40128),l=a.i(15742),m=a.i(93265),n=a.i(15022),o=a.i(24917),p=a.i(15559),q=a.i(88481),r=a.i(76623),s=a.i(81311),t=a.i(60836),u=a.i(24413),v=a.i(77031),w=a.i(7116),x=a.i(34791),y=b([f,v,x]);function z({requestId:a,isOpen:b,onClose:c,onUpdate:y}){var z,A;let B,C,{t:D}=(0,f.useTranslation)("common"),{request:E,isLoading:F,isError:G}=(0,v.useRequest)(a),[H,I]=(0,e.useState)("details");if(!b)return null;let J=a=>a?(0,w.format)(new Date(a),"PPP p"):D("common.na");return(0,d.jsx)(x.AnimatePresence,{children:b&&(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,d.jsx)(x.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,d.jsxs)(x.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden bg-white rounded-2xl shadow-2xl",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-5 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,d.jsx)(n.FileText,{className:"w-6 h-6 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-white",children:D("requests.details")}),(0,d.jsx)("p",{className:"text-blue-100 text-sm",children:F?D("common.loading"):`REQ-${a}`})]})]}),(0,d.jsx)("button",{onClick:c,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,d.jsx)(g.X,{className:"w-6 h-6 text-white"})})]}),(0,d.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,d.jsx)("div",{className:"flex px-6",children:["details","timeline","notes"].map(a=>(0,d.jsxs)("button",{onClick:()=>I(a),className:`px-6 py-4 font-semibold transition-all relative ${H===a?"text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[D(`requests.${a}`),H===a&&(0,d.jsx)(x.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600",transition:{type:"spring",stiffness:500,damping:30}})]},a))})}),(0,d.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:F?(0,d.jsxs)("div",{className:"p-12 text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:D("common.loading")})]}):G||!E?(0,d.jsxs)("div",{className:"p-12 text-center",children:[(0,d.jsx)(o.AlertCircle,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:D("error.loadingFailed")}),(0,d.jsx)("p",{className:"text-gray-600",children:D("error.tryAgain")})]}):(0,d.jsxs)("div",{className:"p-6",children:["details"===H&&(0,d.jsxs)(x.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold border-2 ${(z=E.status,(B={submitted:"bg-blue-100 text-blue-800 border-blue-200",unassigned:"bg-orange-100 text-orange-800 border-orange-200",assigned:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-purple-100 text-purple-800 border-purple-200",in_progress:"bg-indigo-100 text-indigo-800 border-indigo-200",completed:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200",rejected:"bg-red-100 text-red-800 border-red-200"})[z]||B.submitted)}`,children:[(A=E.status,C=({submitted:n.FileText,unassigned:o.AlertCircle,assigned:l.Clock,confirmed:p.CheckCircle,in_progress:t.TrendingUp,completed:p.CheckCircle,closed:p.CheckCircle,rejected:q.XCircle})[A]||n.FileText,(0,d.jsx)(C,{className:"w-4 h-4"})),D(`requests.${E.status}`)]}),E.rating&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(s.Star,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),(0,d.jsx)("span",{className:"text-lg font-bold text-gray-900",children:E.rating.toFixed(1)})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(h.User,{className:"w-5 h-5 text-blue-600"}),D("common.customerInfo")]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,d.jsx)(h.User,{className:"w-5 h-5 text-blue-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.name")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.customerName})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,d.jsx)(i.Phone,{className:"w-5 h-5 text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.phone")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.customerPhone})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 md:col-span-2",children:[(0,d.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,d.jsx)(j.MapPin,{className:"w-5 h-5 text-purple-600"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.address")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.customerAddress}),E.customerLat&&E.customerLng&&(0,d.jsx)("button",{className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:D("common.viewOnMap")})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6",children:[(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(u.Package,{className:"w-5 h-5 text-blue-600"}),D("requests.requestInfo")]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(n.FileText,{className:"w-5 h-5 text-blue-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.category")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.categoryName||D("common.na")})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(u.Package,{className:"w-5 h-5 text-indigo-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.service")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.serviceName||D("common.na")})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(k.Calendar,{className:"w-5 h-5 text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.created")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.createdAt?J(new Date(E.createdAt)):D("common.na")})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(l.Clock,{className:"w-5 h-5 text-orange-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.updated")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.updatedAt?J(new Date(E.updatedAt)):D("common.na")})]})]})]})]}),E.partnerId&&(0,d.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6",children:[(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(m.Building2,{className:"w-5 h-5 text-green-600"}),D("common.partnerInfo")]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(m.Building2,{className:"w-5 h-5 text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.partner")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.partnerName})]})]}),E.branchId&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(j.MapPin,{className:"w-5 h-5 text-emerald-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.branch")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.branchName})]})]}),E.assignedAt&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,d.jsx)(k.Calendar,{className:"w-5 h-5 text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:D("common.assigned")}),(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:E.assignedAt?J(new Date(E.assignedAt)):D("common.na")})]})]})]})]})]}),"timeline"===H&&(0,d.jsxs)(x.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:D("requests.statusTimeline")}),(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(l.Clock,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),D("common.comingSoon")]})]}),"notes"===H&&(0,d.jsxs)(x.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:D("requests.notes")}),(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(r.MessageSquare,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),D("common.noNotes")]})]})]})}),(0,d.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex items-center justify-between",children:[(0,d.jsx)("button",{onClick:c,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:D("common.close")}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:(0,d.jsx)("button",{onClick:y,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold shadow-md hover:shadow-lg",children:D("common.refresh")})})]})]})]})})}[f,v,x]=y.then?(await y)():y,a.s(["default",()=>z]),c()}catch(a){c(a)}},!1),80163,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(47750),g=a.i(79336),h=a.i(55034),i=a.i(45290),j=a.i(15022),k=a.i(15742),l=a.i(15559),m=a.i(16875),n=a.i(7120),o=a.i(94503),p=a.i(61307),q=a.i(88948),r=a.i(39557),s=a.i(24917),t=a.i(60836),u=a.i(3750),v=a.i(33292),w=a.i(77031),x=a.i(4866),y=a.i(15106),z=a.i(35519),A=b([f,g,h,i,v,w,x,y,z]);function B(){let{t:a}=(0,f.useTranslation)("common"),[b,c]=(0,e.useState)(null),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)({page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"}),{requests:I,pagination:J,isLoading:K,mutate:L,isError:M}=(0,w.useRequests)(G),N={total:J?.total||0,unassigned:I.filter(a=>["submitted","unassigned"].includes(a.status)).length,pending:I.filter(a=>["assigned","confirmed"].includes(a.status)).length,inProgress:I.filter(a=>"in_progress"===a.status).length,completed:I.filter(a=>["completed","closed"].includes(a.status)).length},O=[{value:"",label:a("filters.allStatuses"),color:"bg-gray-500"},{value:"submitted",label:a("requests.submitted"),color:"bg-blue-500"},{value:"unassigned",label:a("requests.unassigned"),color:"bg-orange-500"},{value:"assigned",label:a("requests.assigned"),color:"bg-yellow-500"},{value:"confirmed",label:a("requests.confirmed"),color:"bg-purple-500"},{value:"in_progress",label:a("requests.inProgress"),color:"bg-indigo-500"},{value:"completed",label:a("requests.completed"),color:"bg-green-500"},{value:"closed",label:a("requests.closed"),color:"bg-gray-500"},{value:"rejected",label:a("requests.rejected"),color:"bg-red-500"}],P=[{value:"createdAt",label:a("filters.sortByCreated")},{value:"updatedAt",label:a("filters.sortByUpdated")},{value:"submittedAt",label:a("filters.sortBySubmitted")},{value:"assignedAt",label:a("filters.sortByAssigned")},{value:"completedAt",label:a("filters.sortByCompleted")}],Q=a=>{H(b=>({...b,status:a||void 0,page:1}))},R=()=>{H({page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"}),F("")},S=E?I.filter(a=>a.customerName.toLowerCase().includes(E.toLowerCase())||a.customerPhone.includes(E)||a.requestNumber.toLowerCase().includes(E.toLowerCase())):I;return(0,d.jsxs)(g.default,{children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(v.BlurFade,{delay:0,children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a("navigation.requests")}),(0,d.jsx)("p",{className:"text-gray-600",children:a("requests.manageDescription")})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("button",{onClick:()=>L(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 font-medium",title:a("common.refresh"),children:[(0,d.jsx)(r.RefreshCw,{className:"w-4 h-4"}),a("common.refresh")]}),(0,d.jsxs)("button",{onClick:()=>{var a,b;let c,d,e,f;a=(c=I.map(a=>[a.requestNumber,a.customerName,a.customerPhone,a.customerAddress,a.status,a.createdAt?new Date(a.createdAt).toLocaleString():"N/A",a.updatedAt?new Date(a.updatedAt).toLocaleString():"N/A"]),[["ID","Customer","Phone","Address","Status","Created","Updated"],...c].map(a=>a.join(",")).join("\n")),b=`requests-${new Date().toISOString()}.csv`,d=new Blob([a],{type:"text/csv"}),e=window.URL.createObjectURL(d),(f=document.createElement("a")).href=e,f.download=b,f.click(),window.URL.revokeObjectURL(e)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm",children:[(0,d.jsx)(n.Download,{className:"w-4 h-4"}),a("common.export")]})]})]})}),(0,d.jsx)(v.BlurFade,{delay:.1,children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,d.jsx)(i.default,{title:a("navigation.requests"),value:N.total,icon:j.FileText,color:"bg-blue-500",className:"transition-colors cursor-pointer",onClick:()=>R()}),(0,d.jsx)(i.default,{title:a("unassignedRequests"),value:N.unassigned,icon:s.AlertCircle,color:"bg-orange-500",className:"transition-colors cursor-pointer",onClick:()=>Q("unassigned")}),(0,d.jsx)(i.default,{title:a("requests.pending"),value:N.pending,icon:k.Clock,color:"bg-yellow-500",className:"transition-colors cursor-pointer",onClick:()=>Q("assigned")}),(0,d.jsx)(i.default,{title:a("requests.inProgress"),value:N.inProgress,icon:t.TrendingUp,color:"bg-purple-500",className:"transition-colors cursor-pointer",onClick:()=>Q("in_progress")}),(0,d.jsx)(i.default,{title:a("requests.completed"),value:N.completed,icon:l.CheckCircle,color:"bg-green-500",className:"transition-colors cursor-pointer",onClick:()=>Q("completed")})]})}),(0,d.jsx)(v.BlurFade,{delay:.2,children:(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:a("searchByCustomerOrPhone"),value:E,onChange:a=>F(a.target.value),onKeyPress:a=>"Enter"===a.key&&void L(),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),E&&(0,d.jsx)("button",{onClick:()=>F(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(q.X,{className:"w-5 h-5"})})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(m.Filter,{className:"w-5 h-5 text-gray-400"}),(0,d.jsx)("select",{value:G.status||"",onChange:a=>Q(a.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-medium min-w-[180px]",children:O.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("select",{value:G.sortBy,onChange:a=>{var b;return b=a.target.value,void H(a=>({...a,sortBy:b,page:1}))},className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-medium",children:P.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))}),(0,d.jsx)("button",{onClick:()=>{H(a=>({...a,sortOrder:"desc"===a.sortOrder?"asc":"desc",page:1}))},className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"desc"===G.sortOrder?a("filters.descending"):a("filters.ascending"),children:(0,d.jsx)(t.TrendingUp,{className:`w-5 h-5 text-gray-600 transition-transform ${"asc"===G.sortOrder?"rotate-180":""}`})})]}),(G.status||E)&&(0,d.jsx)("button",{onClick:R,className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium whitespace-nowrap",children:a("filters.clear")})]}),(G.status||E)&&(0,d.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[a("filters.active"),":"]}),G.status&&(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[a(`requests.${G.status}`),(0,d.jsx)("button",{onClick:()=>Q(""),className:"hover:bg-blue-200 rounded-full p-0.5",children:(0,d.jsx)(q.X,{className:"w-3 h-3"})})]}),E&&(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:['Search: "',E,'"',(0,d.jsx)("button",{onClick:()=>F(""),className:"hover:bg-green-200 rounded-full p-0.5",children:(0,d.jsx)(q.X,{className:"w-3 h-3"})})]})]})]})}),K?(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(z.CardSkeleton,{},b))}):M?(0,d.jsx)(v.BlurFade,{delay:.3,children:(0,d.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-12 text-center",children:[(0,d.jsx)(s.AlertCircle,{className:"w-16 h-16 mx-auto text-red-500 mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-bold text-red-900 mb-2",children:a("error.loadingFailed")}),(0,d.jsx)("p",{className:"text-red-700 mb-6",children:a("error.tryAgain")}),(0,d.jsxs)("button",{onClick:()=>L(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium inline-flex items-center gap-2",children:[(0,d.jsx)(r.RefreshCw,{className:"w-4 h-4"}),a("common.retry")]})]})}):0===S.length?(0,d.jsx)(v.BlurFade,{delay:.3,children:(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border-2 border-dashed border-gray-300 p-12 text-center",children:[(0,d.jsx)(j.FileText,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a("requests.noRequestsFound")}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:G.status?a("requests.noRequestsWithStatus",{status:G.status}):E?a("requests.noRequestsMatchingSearch"):a("requests.createFirstRequest")}),(G.status||E)&&(0,d.jsx)("button",{onClick:R,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:a("filters.clearAll")})]})}):(0,d.jsx)("div",{className:"space-y-4",children:S.map((b,e)=>(0,d.jsx)(v.BlurFade,{delay:e%10*.05,children:(0,d.jsxs)("div",{className:"group",children:[(0,d.jsx)(h.default,{requestNumber:b.requestNumber,customerName:b.customerName,customerPhone:b.customerPhone,customerAddress:b.customerAddress,status:b.status,createdAt:b.createdAt,onClick:()=>{var a;return a=b.id,void(c(a),D(!0))},className:"hover:shadow-xl transition-all duration-300 hover:-translate-y-1"}),(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-between gap-2",children:[b.customerLat&&b.customerLng&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium border border-blue-200 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,d.jsx)(u.MapPin,{className:"w-3.5 h-3.5"}),a("common.viewLocation")]}),!b.customerLat&&!b.customerLng&&(0,d.jsx)("div",{className:"flex-1"}),!["completed","closed"].includes(b.status)&&(0,d.jsxs)("button",{onClick:a=>{var d;return d=b.id,void(a.stopPropagation(),c(d),B(!0))},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-md font-semibold text-sm hover:scale-105 transform hover:shadow-lg",children:[(0,d.jsx)(o.Zap,{className:"w-4 h-4"}),"submitted"===b.status||"unassigned"===b.status?a("quickAssign"):a("reassign")]})]})]})},b.id))}),J&&J.totalPages>1&&(0,d.jsx)(v.BlurFade,{delay:.5,children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white rounded-xl shadow-sm border border-gray-200 p-6 gap-4",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:a("pagination.showing",{start:(G.page-1)*G.limit+1,end:Math.min(G.page*G.limit,J.total),total:J.total})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{disabled:1===G.page,onClick:()=>H(a=>({...a,page:1})),className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors text-gray-700 font-medium",title:a("pagination.first"),children:"««"}),(0,d.jsx)("button",{disabled:1===G.page,onClick:()=>H(a=>({...a,page:a.page-1})),className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors text-gray-700 font-medium",children:a("pagination.previous")}),(0,d.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:Array.from({length:Math.min(5,J.totalPages)},(a,b)=>{let c=b+1;return(0,d.jsx)("button",{onClick:()=>H(a=>({...a,page:c})),className:`w-10 h-10 rounded-lg font-semibold transition-all ${G.page===c?"bg-blue-600 text-white shadow-md":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:c},c)})}),(0,d.jsx)("button",{disabled:G.page>=J.totalPages,onClick:()=>H(a=>({...a,page:a.page+1})),className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors text-gray-700 font-medium",children:a("pagination.next")}),(0,d.jsx)("button",{disabled:G.page>=J.totalPages,onClick:()=>H(a=>({...a,page:J.totalPages})),className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors text-gray-700 font-medium",title:a("pagination.last"),children:"»»"})]})]})})]}),b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.default,{requestId:b,isOpen:A,onClose:()=>{B(!1),c(null)},onAssignSuccess:()=>{B(!1),c(null),L()}}),(0,d.jsx)(y.default,{requestId:b,isOpen:C,onClose:()=>{D(!1),c(null)},onUpdate:()=>L()})]})]})}[f,g,h,i,v,w,x,y,z]=A.then?(await A)():A,a.s(["default",()=>B]),c()}catch(a){c(a)}},!1),51136,a=>a.a(async(b,c)=>{try{var d=a.i(65898),e=a.i(24244),f=a.i(67175),g=a.i(14924),h=a.i(85634),i=a.i(80163),j=a.i(91213),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/requests",pathname:"/admin/requests",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/requests",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=projects_ticketing-platform_364c92e9._.js.map